{"version":3,"file":"static/js/94.9403f21b.chunk.js","mappings":"qMACA,EAA0B,yBAA1B,EAAkE,8BAAlE,EAAiH,gCAAjH,EAA4J,0BCA5J,EAA8B,gCAA9B,EAA2E,+BAA3E,EAAsH,8BAAtH,EAA6J,2BAA7J,EAAqM,+BAArM,EAA4O,0BAA5O,EAA6Q,yBAA7Q,EAAoT,gC,8BCUvSA,EAAU,SAACC,GACpB,IAAMC,EAAeC,KAAKC,MAAK,IAAIC,MAAOC,UAAY,IAAID,KAAKJ,GAAMK,WAC/DC,EAAOJ,KAAKC,KAAKF,EAAO,KAC9B,OAAIK,EAAO,GACAA,EAAO,YACPA,EAAO,IAAMA,EAAO,KACpBJ,KAAKC,KAAKG,EAAO,IAAM,SACvBA,EAAO,MAAQA,EAAO,MACtBJ,KAAKC,KAAKG,EAAO,MAAQ,YACzBA,EAAO,OAASA,EAAO,OACvBJ,KAAKC,KAAKG,EAAO,OAAS,cAC1BA,EAAO,OACP,IAAIF,KAAKJ,GAAMO,eAAe,KAAM,CACvCC,IAAK,UACLC,MAAO,UACPC,KAAM,UACNC,KAAM,UACNC,OAAQ,UACRC,QAAQ,SAPT,CAUX,EACaC,EAAW,SAACd,GACrB,IAAMC,EAAeC,KAAKC,MAAK,IAAIC,MAAOC,UAAY,IAAID,KAAKJ,GAAMK,WACrE,OAAOH,KAAKC,KAAKF,EAAO,KAAW,EACvC,E,SCxBac,EAAwCC,EAAAA,MAAW,SAAAC,GAAqB,IAAlBC,EAAUD,EAAVC,WACzDC,EACND,EADMC,GAAIC,EACVF,EADUE,OAAQC,EAClBH,EADkBG,SAAUC,EAC5BJ,EAD4BI,eAAgBC,EAC5CL,EAD4CK,iBAAkBC,EAC9DN,EAD8DM,qBAAsBC,EACpFP,EADoFO,uBAEhFC,GAAWC,EAAAA,EAAAA,KACbC,EAAO,YAAcT,EAKnBU,EAAe9B,EAAQyB,GACvBM,EAAa/B,EAAQ0B,GACNvB,KAAKC,KAAK,IAAIC,KAAKqB,GAAwBpB,WAEhE,OACE0B,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAgBC,SAAA,EAC9BH,EAAAA,EAAAA,MAAA,OAAKI,QAVS,WAChBT,GAASU,EAAAA,EAAAA,IAAYjB,GACvB,EAQ6Ba,UAAWC,EAAeC,SAAA,EACjDG,EAAAA,EAAAA,KAAA,OAAKL,UAAWC,EAAeK,IAAqB,MAAhBlB,EAAOmB,MAAgBnB,EAAOmB,MAAQC,EAAQC,IAAI,WACrF3B,EAASU,KAAyBa,EAAAA,EAAAA,KAAA,OAAKL,UAAWC,QAGrDF,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAeC,SAAA,EAC7BH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAUC,SAAA,EACxBG,EAAAA,EAAAA,KAACK,EAAAA,GAAO,CAACC,GAAIf,EAAMgB,MAAO,cAAcV,UACtCG,EAAAA,EAAAA,KAAA,MAAIL,UAAWC,EAASC,SAAEb,OAG5BU,EAAAA,EAAAA,MAAA,MAAAG,SAAA,CAAI,UACIG,EAAAA,EAAAA,KAAA,QAAAH,SAAOL,QAEfE,EAAAA,EAAAA,MAAA,MAAAG,SAAA,CAAI,YACMG,EAAAA,EAAAA,KAAA,QAAAH,SAAOJ,WAInBC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAgBC,SAAA,CAC7B,IACAZ,GAAiBS,EAAAA,EAAAA,MAAA,QAAMc,MAAO,CAAEC,MAAO,aAAcZ,SAAA,CAAC,OAAKX,EAAiB,eAAmB,WAK1G,ICpDA,GAAgB,aAAe,8BAA8B,SAAW,0BAA0B,KAAO,sBAAsB,QAAU,yBAAyB,QAAU,yBAAyB,KAAO,sBAAsB,MAAQ,wBCS7NwB,EAAiC,SAAH9B,GAA6B,IAAvB+B,EAAO/B,EAAP+B,QAASC,EAAMhC,EAANgC,OAClDJ,EAAQG,EAAQE,WAAaD,EAAShB,EAAAA,MAAYA,EAAAA,KAExD,OACEF,EAAAA,EAAAA,MAAA,OAAKC,UAAS,GAAAmB,OAAKlB,EAAAA,aAAgB,KAAAkB,OAAIN,GAAQX,SAAA,EAC7CH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,SAAaC,SAAA,EAC3BG,EAAAA,EAAAA,KAAA,MAAIL,UAAWC,EAAAA,KAASC,SAAEc,EAAQI,cAClCf,EAAAA,EAAAA,KAAA,QAAML,UAAWC,EAAAA,QAAYC,SAAEnC,EAAQiD,EAAQK,eAEjDhB,EAAAA,EAAAA,KAAA,OAAKL,UAAWC,EAAAA,KAASC,UACvBG,EAAAA,EAAAA,KAAA,KAAGL,UAAWC,EAAAA,QAAYC,SAAEc,EAAQM,WANaN,EAAQ7B,GAYjE,E,oBCzBA,EAA8B,iCAA9B,EAA6E,iCCyC7E,EA/BmD,SAAHF,GAAoB,IAAdgC,EAAMhC,EAANgC,OAC9CM,GAAaC,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,YAAYH,UAAU,IAEvEI,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCX,EAAOa,EAAA,GAAEE,EAAUF,EAAA,GACpBnC,GAAWC,EAAAA,EAAAA,KACjBqC,QAAQC,IAAI,kBAAmBhB,GAW/B,OACElB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAgBC,SAAA,EAC9BG,EAAAA,EAAAA,KAAA,OAAAH,UACEG,EAAAA,EAAAA,KAAC6B,EAAAA,GAAc,CAACC,SAAU,SAAAC,GAAC,OAAIL,EAAWK,EAAEC,cAAcC,MAAM,EAAEA,MAAOtB,OAG3EX,EAAAA,EAAAA,KAAA,OAAKL,UAAWC,EAAgBC,UAC9BG,EAAAA,EAAAA,KAACkC,EAAAA,EAAM,CAACC,SAAUjB,EAAYpB,QAhBT,WACpBa,IAGHtB,GAAS+C,EAAAA,EAAAA,IAAcxB,EAAQD,IAC/Be,EAAW,IAEf,EASgE7B,SAAC,aAMnE,ECtBawC,EAAU1D,EAAAA,MAAW,SAAC2D,GACjC,IAAMjD,GAAWC,EAAAA,EAAAA,KACXiD,GAAUpB,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,YAAYkB,OAAO,IAC3DC,GAAWrB,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,YAAYmB,QAAQ,IAC7D5B,GAASO,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,YAAYT,MAAM,IACzD6B,GAAatB,EAAAA,EAAAA,IAAe,SAAAC,GAAK,OAAIA,EAAMC,YAAYoB,UAAU,IAEvEnB,GAAoCC,EAAAA,EAAAA,WAAS,GAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA3CoB,EAAUlB,EAAA,GAAEmB,EAAanB,EAAA,GAEhCoB,GAAgCrB,EAAAA,EAAAA,UAAS,GAAEsB,GAAApB,EAAAA,EAAAA,GAAAmB,EAAA,GAApCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAEtBG,GAAeC,EAAAA,EAAAA,QAAuB,MACtCC,GAAkBD,EAAAA,EAAAA,QAAuB,MAwB/C,OAPAE,EAAAA,EAAAA,YAAU,WAAO,IAADC,EACdV,IAAqC,QAA3BU,EAAIF,EAAgBG,eAAO,IAAAD,GAAvBA,EAAyBE,eAAe,CAAEC,SAAU,WACpE,GAAG,CAACf,EAAUE,KAEdS,EAAAA,EAAAA,YAAU,WACR9D,GAASmE,EAAAA,EAAAA,MACX,GAAG,CAACnE,EAAUuB,KAEZlB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAYC,SAAA,EAC1BG,EAAAA,EAAAA,KAAA,OAAKQ,MAAO,CAAEiD,OAAQ,QAASC,UAAW,QAAU/D,UAAWC,EAAiBC,SAC7E0C,GAAWA,EAAQoB,KAAI,SAAAC,GAAE,OAAI5D,EAAAA,EAAAA,KAACtB,EAAU,CAAaG,WAAY+E,GAAnBA,EAAG9E,GAAsB,OAE1EY,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAmBC,SAAA,EACjCH,EAAAA,EAAAA,MAAA,OAAKc,MAAO,CAAEiD,OAAQ,QAASC,UAAW,QAAU/D,UAAWC,EAAciE,SA5BvD,SAAC9B,GAC3B,IAAI+B,EAAU/B,EAAEC,cAEZ8B,EAAQC,WAAa,GAAKtB,EAAwB,GAAXK,GACzCC,EAAYD,EAAW,GAGrBgB,EAAQE,aAAeF,EAAQC,YAAcD,EAAQG,cACtDvB,GAAcC,GAAc,GAI7BD,GAAcC,GAAc,EAEhC,EAciH9C,SAAA,EACzGG,EAAAA,EAAAA,KAAA,OAAKkE,IAAKlB,IACTR,GAAYA,EAASmB,KAAI,SAAAC,GAAE,OAAI5D,EAAAA,EAAAA,KAACU,EAAO,CAAaC,QAASiD,EAAIhD,OAAQA,GAA5BgD,EAAG9E,GAAmC,KACpFkB,EAAAA,EAAAA,KAAA,OAAKkE,IAAKhB,QAEZlD,EAAAA,EAAAA,KAACmE,EAAe,CAACvD,OAAQA,SAIjC,I,oBC1CawD,GAAmBC,E,QAAAA,KAC9BC,EAAAA,EAAAA,KAVsB,SAAClD,GACvB,MAAO,CACLC,YAAaD,EAAMC,YAAYkB,QAC/BgC,OAAQnD,EAAMoD,KAAKD,OAEvB,GAKuF,CACnFE,uBAAAA,EAAAA,GACArC,cAAAA,EAAAA,GACAoB,aAAAA,EAAAA,KAEFkB,EAAAA,EAN8BL,CAO9BhC,E","sources":["webpack://samurai-way/./src/components/SideWidgets/Dialogs/Dialogs.module.scss?98c1","webpack://samurai-way/./src/components/SideWidgets/Dialogs/Dialogitem/DialogItem.module.scss?ac8c","utils/BeautyData/BeautyData.ts","components/SideWidgets/Dialogs/Dialogitem/Dialogsitem.tsx","webpack://samurai-way/./src/components/SideWidgets/Dialogs/Message/Message.module.scss?0007","components/SideWidgets/Dialogs/Message/Message.tsx","webpack://samurai-way/./src/components/SideWidgets/Dialogs/Message/SendMessage.module.scss?b951","components/SideWidgets/Dialogs/Message/SendMessageForm.tsx","components/SideWidgets/Dialogs/Dialogs.tsx","components/SideWidgets/Dialogs/DialogsContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__2l6L0\",\"dialogWindow\":\"Dialogs_dialogWindow__2+7C3\",\"messagesWindow\":\"Dialogs_messagesWindow__YVZuy\",\"messages\":\"Dialogs_messages__8sGrY\"};","// extracted by mini-css-extract-plugin\nexport default {\"dialogBlock\":\"DialogItem_dialogBlock__FvSlk\",\"photoBlock\":\"DialogItem_photoBlock__SsrEG\",\"userPhoto\":\"DialogItem_userPhoto__3cX6a\",\"online\":\"DialogItem_online__Nb+Xb\",\"aboutBlock\":\"DialogItem_aboutBlock__JHNol\",\"about\":\"DialogItem_about__ivcwF\",\"name\":\"DialogItem_name__m0bqz\",\"newMessages\":\"DialogItem_newMessages__hmnTi\"};","export const BeautyDate = (date?: Date) => {\r\n    return new Date(date ? date : '').toLocaleString('en', {\r\n        day: 'numeric',\r\n        month: 'numeric',\r\n        year: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        hour12: false\r\n    });\r\n};\r\n\r\nexport const dateAgo = (date: any) => {\r\n    const time: number = Math.ceil(new Date().getTime() - new Date(date).getTime());\r\n    const last = Math.ceil(time / 1000);\r\n    if (last < 60) {\r\n        return last + ' min. ago';\r\n    } else if (last > 60 && last < 1440) {\r\n        return Math.ceil(last / 60) + ' h ago';\r\n    } else if (last > 1440 && last < 43200) {\r\n        return Math.ceil(last / 1440) + ' days ago';\r\n    } else if (last > 43200 && last < 518400) {\r\n        return Math.ceil(last / 43200) + ' months ago';\r\n    } else if (last > 518400) {\r\n        return new Date(date).toLocaleString('en', {\r\n            day: 'numeric',\r\n            month: 'numeric',\r\n            year: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit',\r\n            hour12: false\r\n        });\r\n    }\r\n};\r\nexport const isOnline = (date: any) => {\r\n    const time: number = Math.ceil(new Date().getTime() - new Date(date).getTime());\r\n    return Math.ceil(time / 1000000) < 15;\r\n};\r\n","import React from 'react';\r\nimport css from './DialogItem.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { DialogsType, putDialogTC } from '../../../../redux/dialogs-reducer';\r\nimport { useAppDispatch } from '../../../../hooks/hooks';\r\nimport avaNeo from '../../../../assets/images/avaNeo.png';\r\nimport { dateAgo, isOnline } from '../../../../utils/BeautyData/BeautyData';\r\n\r\ntype DialogsItemType = {\r\n  dialogItem: DialogsType;\r\n};\r\n\r\nexport const DialogItem: React.FC<DialogsItemType> = React.memo(({ dialogItem }) => {\r\n  const { id, photos, userName, hasNewMessages, newMessagesCount, lastUserActivityDate, lastDialogActivityDate } =\r\n    dialogItem;\r\n  const dispatch = useAppDispatch();\r\n  let path = '/profile/' + id;\r\n  const startChat = () => {\r\n    dispatch(putDialogTC(id));\r\n  };\r\n\r\n  const lastActivity = dateAgo(lastUserActivityDate);\r\n  const lastDialog = dateAgo(lastDialogActivityDate);\r\n  const time: number = Math.ceil(new Date(lastDialogActivityDate).getTime());\r\n  // @ts-ignore\r\n  return (\r\n    <div className={css.dialogBlock}>\r\n      <div onClick={startChat} className={css.photoBlock}>\r\n        <img className={css.userPhoto} src={photos.small != null ? photos.small : avaNeo} alt=\"avatar\" />\r\n        {isOnline(lastUserActivityDate) && <div className={css.online}></div>}\r\n      </div>\r\n\r\n      <div className={css.aboutBlock}>\r\n        <div className={css.about}>\r\n          <NavLink to={path} title={'see profile'}>\r\n            <h5 className={css.name}>{userName}</h5>\r\n          </NavLink>\r\n\r\n          <h6>\r\n            Last: <span>{lastActivity}</span>\r\n          </h6>\r\n          <h6>\r\n            Dialog: <span>{lastDialog}</span>\r\n          </h6>\r\n        </div>\r\n\r\n        <div className={css.newMessages}>\r\n          {' '}\r\n          {hasNewMessages ? <span style={{ color: 'limegreen' }}>New {newMessagesCount} messages</span> : ''}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","// extracted by mini-css-extract-plugin\nexport default {\"messageBlock\":\"Message_messageBlock__USaat\",\"nameData\":\"Message_nameData__goYo2\",\"name\":\"Message_name__634Ny\",\"dateAdd\":\"Message_dateAdd__eS4BZ\",\"message\":\"Message_message__O4Hlp\",\"left\":\"Message_left__2TEFf\",\"right\":\"Message_right__x0Zcr\"};","import React from 'react';\r\nimport { MessageItemType } from '../../../../redux/dialogs-reducer';\r\nimport css from './Message.module.scss';\r\nimport { dateAgo } from '../../../../utils/BeautyData/BeautyData';\r\n\r\ntype MessageType = {\r\n  message: MessageItemType;\r\n  userId: number;\r\n};\r\n\r\nexport const Message: React.FC<MessageType> = ({ message, userId }) => {\r\n  const style = message.senderId === userId ? css.right : css.left;\r\n\r\n  return (\r\n    <div className={`${css.messageBlock} ${style}`} key={message.id}>\r\n      <div className={css.nameData}>\r\n        <h5 className={css.name}>{message.senderName}</h5>\r\n        <span className={css.dateAdd}>{dateAgo(message.addedAt)}</span>\r\n      </div>\r\n      <div className={css.body}>\r\n        <p className={css.message}>{message.body}</p>\r\n      </div>\r\n\r\n      {/*<div className={css.viewed}>viewed {message.viewed}</div>*/}\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nexport default {\"sendMessage\":\"SendMessage_sendMessage__ka75X\",\"buttonBlock\":\"SendMessage_buttonBlock__tfpM7\"};","import React, { useState } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '../../../../hooks/hooks';\r\nimport { TextAreaFormik } from '../../../00-Common/InputFormik/InputFormik';\r\nimport { Button } from '../../../00-Common/Button/Button';\r\nimport { sendMessageTC } from '../../../../redux/dialogs-reducer';\r\nimport css from './SendMessage.module.scss';\r\n\r\ntype SendMessageType = {\r\n  userId: number;\r\n};\r\n\r\nconst SendMessageForm: React.FC<SendMessageType> = ({ userId }) => {\r\n  const isFetching = useAppSelector(state => state.dialogsPage.isFetching);\r\n\r\n  const [message, setMessage] = useState('');\r\n  const dispatch = useAppDispatch();\r\n  console.log('SendMessageForm', userId);\r\n\r\n  const sendMessageHandler = () => {\r\n    if (!message) {\r\n      return;\r\n    } else {\r\n      dispatch(sendMessageTC(userId, message));\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={css.sendMessage}>\r\n      <div>\r\n        <TextAreaFormik onChange={e => setMessage(e.currentTarget.value)} value={message} />\r\n        {/*<textarea onChange={(e)=>setMessage(e.currentTarget.value)} value={message}></textarea>*/}\r\n      </div>\r\n      <div className={css.buttonBlock}>\r\n        <Button disabled={isFetching} onClick={sendMessageHandler}>\r\n          Send\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SendMessageForm;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport css from './Dialogs.module.scss';\r\nimport { DialogItem } from './Dialogitem/Dialogsitem';\r\nimport { Message } from './Message/Message';\r\nimport { DialogsType, getDialogsTC, MessageItemType } from '../../../redux/dialogs-reducer';\r\nimport { useAppDispatch, useAppSelector } from '../../../hooks/hooks';\r\n\r\nimport SendMessageForm from './Message/SendMessageForm';\r\n\r\ntype DialogsPageType = {\r\n  newTextMessageOnChange: (newMessageText: string) => void;\r\n  addMessageOnClick: () => void;\r\n  isAuth: boolean;\r\n  dialogs: Array<DialogsType>;\r\n  messages: Array<MessageItemType>;\r\n  getDialogs: () => void;\r\n};\r\n\r\nexport const Dialogs = React.memo((props: DialogsPageType) => {\r\n  const dispatch = useAppDispatch();\r\n  const dialogs = useAppSelector(state => state.dialogsPage.dialogs);\r\n  const messages = useAppSelector(state => state.dialogsPage.messages);\r\n  const userId = useAppSelector(state => state.dialogsPage.userId);\r\n  const totalCount = useAppSelector(state => state.dialogsPage.totalCount);\r\n\r\n  const [autoScroll, setAutoScroll] = useState(true);\r\n\r\n  const [autoPage, setAutoPage] = useState(1);\r\n\r\n  const topAnchorRef = useRef<HTMLDivElement>(null);\r\n  const bottomAnchorRef = useRef<HTMLDivElement>(null);\r\n\r\n  const scrollBottomHandler = (e: React.UIEvent<HTMLDivElement>) => {\r\n    let element = e.currentTarget;\r\n\r\n    if (element.scrollTop <= 0 && totalCount > autoPage * 10) {\r\n      setAutoPage(autoPage + 1);\r\n      // dispatch(getMessagesListTC(userId, 10, autoPage))\r\n    }\r\n    if (element.scrollHeight - element.scrollTop === element.clientHeight) {\r\n      !autoScroll && setAutoScroll(true);\r\n      // setAutoPage(autoPage-1)\r\n      // dispatch(getMessagesListTC(userId, 10, autoPage))\r\n    } else {\r\n      autoScroll && setAutoScroll(false);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    autoScroll && bottomAnchorRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages, autoScroll]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getDialogsTC());\r\n  }, [dispatch, userId]);\r\n  return (\r\n    <div className={css.dialogs}>\r\n      <div style={{ height: '650px', overflowY: 'auto' }} className={css.dialogWindow}>\r\n        {dialogs && dialogs.map(el => <DialogItem key={el.id} dialogItem={el} />)}\r\n      </div>\r\n      <div className={css.messagesWindow}>\r\n        <div style={{ height: '480px', overflowY: 'auto' }} className={css.messages} onScroll={scrollBottomHandler}>\r\n          <div ref={topAnchorRef}></div>\r\n          {messages && messages.map(el => <Message key={el.id} message={el} userId={userId} />)}\r\n          <div ref={bottomAnchorRef}></div>\r\n        </div>\r\n        <SendMessageForm userId={userId} />\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport { newTextMessageOnChange, DialogsType, getDialogsTC, sendMessageTC } from '../../../redux/dialogs-reducer';\r\nimport { RootState } from '../../../redux/redux-store';\r\nimport { Dialogs } from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { WithAuthRedirect } from '../../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\ntype MapStateToPropsType = {\r\n  dialogsPage: Array<DialogsType>;\r\n  isAuth: boolean;\r\n};\r\ntype MapDispatchToPropsType = {\r\n  newTextMessageOnChange: (text: string) => void;\r\n  sendMessageTC: (userId: number, messageBody: string) => void;\r\n  getDialogsTC: () => void;\r\n};\r\n\r\nconst mapStateToProps = (state: RootState): MapStateToPropsType => {\r\n  return {\r\n    dialogsPage: state.dialogsPage.dialogs,\r\n    isAuth: state.auth.isAuth\r\n  } as MapStateToPropsType;\r\n};\r\n\r\n// compose allows us to add new HOCs, that is wrap our component to HOCs with universal options\r\n\r\nexport const DialogsContainer = compose(\r\n  connect<MapStateToPropsType, MapDispatchToPropsType, {}, RootState>(mapStateToProps, {\r\n    newTextMessageOnChange,\r\n    sendMessageTC,\r\n    getDialogsTC\r\n  }),\r\n  WithAuthRedirect\r\n)(Dialogs);\r\n"],"names":["dateAgo","date","time","Math","ceil","Date","getTime","last","toLocaleString","day","month","year","hour","minute","hour12","isOnline","DialogItem","React","_ref","dialogItem","id","photos","userName","hasNewMessages","newMessagesCount","lastUserActivityDate","lastDialogActivityDate","dispatch","useAppDispatch","path","lastActivity","lastDialog","_jsxs","className","css","children","onClick","putDialogTC","_jsx","src","small","avaNeo","alt","NavLink","to","title","style","color","Message","message","userId","senderId","concat","senderName","addedAt","body","isFetching","useAppSelector","state","dialogsPage","_useState","useState","_useState2","_slicedToArray","setMessage","console","log","TextAreaFormik","onChange","e","currentTarget","value","Button","disabled","sendMessageTC","Dialogs","props","dialogs","messages","totalCount","autoScroll","setAutoScroll","_useState3","_useState4","autoPage","setAutoPage","topAnchorRef","useRef","bottomAnchorRef","useEffect","_bottomAnchorRef$curr","current","scrollIntoView","behavior","getDialogsTC","height","overflowY","map","el","onScroll","element","scrollTop","scrollHeight","clientHeight","ref","SendMessageForm","DialogsContainer","compose","connect","isAuth","auth","newTextMessageOnChange","WithAuthRedirect"],"sourceRoot":""}